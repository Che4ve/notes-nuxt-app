import{M as u,v as y,J as g,m as w,f as v,g as S,c as p,a as s,t as r,z as x,A as h,o as k,_ as N}from"./CdW2Co5G.js";const m="notes",C=()=>{const e=localStorage.getItem(m);return e?JSON.parse(e):[]},f=e=>{localStorage.setItem(m,JSON.stringify(e))},B=u("notes",()=>{const e=y(C()),d=g(()=>e);function l(n){const t=e.findIndex(o=>o.id===n);return t>=0?e[t]:null}function a(n){e.push(n),f(e)}const i=n=>{const t=e.findIndex(o=>o.id===n.id);t!==-1&&(e[t]=n,f(e))};function c(n){const t=e.findIndex(o=>o.id===n);t>=0&&(e.splice(t,1),f(e))}return{notes:d,getNoteById:l,addNote:a,updateNote:i,removeNote:c}}),E={class:"modal"},I={class:"actions"},_=w({__name:"ConfirmModal",props:{show:{type:Boolean,required:!0},title:{type:String,default:"Подтвердить"},message:{type:String,default:"Вы уверены?"},confirmText:{type:String,default:"Подтвердить"},cancelText:{type:String,default:"Назад"}},emits:["confirm","cancel"],setup(e,{emit:d}){const l=e,a=d,i=()=>{a("confirm")},c=()=>{a("cancel")},n=t=>{t.key==="Escape"&&c(),t.key==="Enter"&&i()};return v(()=>l.show,t=>{t?window.addEventListener("keydown",n):window.removeEventListener("keydown",n)},{immediate:!0}),S(()=>{window.removeEventListener("keydown",n)}),(t,o)=>e.show?(k(),p("div",{key:0,class:"modal-overlay",onClick:x(c,["self"])},[s("div",E,[s("h2",null,r(e.title),1),s("span",null,r(e.message),1),s("div",I,[s("button",{onClick:c,class:"cancel-btn"},r(e.cancelText),1),s("button",{onClick:i,class:"confirm-btn"},r(e.confirmText),1)])])])):h("",!0)}}),T=N(_,[["__scopeId","data-v-39832922"]]);export{T as C,B as u};
